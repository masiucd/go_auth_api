<<<<<<< HEAD
(()=>{"use strict";var t,n=function(){function t(t,n,e){this.teacher=t,this.courses=n,this.students=e}return t.prototype.render=function(){this.teacher.init(),this.courses.init(),this.students.init()},t}(),e=function(){function t(t,n,e,i){this.parentElement=t,this.dataList=n,this.title=e,this.subTitles=i}return t.prototype.clickHandler=function(t){document.querySelectorAll("tr").forEach((function(n){return n.addEventListener("click",(function(){t(parseInt(n.dataset.id,10)),sessionStorage.setItem("user",String(n.dataset.id))}))}))},t.prototype.render=function(){var t='\n    <div class="table-wrapper wrapper-'+this.title+'">\n    <table class="'+this.title+'">\n        <caption>'+this.title+"</caption>\n        <thead>\n          "+this.subTitles.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+this.dataList.map((function(t){var n=t.displayInfo();return'\n                <tr data-id="'+t.id+'">\n                '+Object.keys(n).map((function(t){return"<td>"+n[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    ";this.parentElement.innerHTML=t},t.prototype.renderRawHtml=function(){return'\n    <div class="table-wrapper wrapper-'+this.title+'">\n    <table>\n        <caption>'+this.title+"</caption>\n        <thead>\n          "+this.subTitles.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+this.dataList.map((function(t){var n=t.displayInfo();return'\n                <tr data-id="'+t.id+'">\n                '+Object.keys(n).map((function(t){return"<td>"+n[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    "},t.prototype.mount=function(t){t.innerHTML=this.renderRawHtml()},t.prototype.init=function(){this.render()},t}(),i=function(){function t(){this.students={}}return t.prototype.registerStudent=function(t){this.students[t.firstName]=t,t.studentMediator=this},t.prototype.send=function(t,n,e){},t}(),o=function(){function t(){this.courses={}}return t.prototype.registerCourse=function(t){this.courses[t.title]=t,t.courseMediator=this},t.prototype.send=function(t,n,e){},t}(),r=function(){function t(t,n,e,i){this.id=t,this.title=n,this.description=e,this.duration=i,this.courseMediator=null}return t.prototype.displayInfo=function(){return{title:this.title,duration:this.duration}},t.prototype.send=function(){},t.prototype.receive=function(){},t}(),s=new o,a=function(){return[new r(1,"math","math is wonderful","6h"),new r(2,"history","history is good for you","3h"),new r(3,"swedish","without swedish you will face some serious problems","2h"),new r(4,"english","the global language, learn it NOW!!!","5h")]},u=function(){function t(t){this.parentElement=t,this.coursesView=new e(this.parentElement,a(),"Courses",["title","duration"])}return t.prototype.init=function(){this.coursesView.init(),function(){for(var t=0,n=a();t<n.length;t++){var e=n[t];s.registerCourse(e)}}()},t}(),c=function(t,n,e,i,o){this.id=t,this.firstName=n,this.lastName=e,this.email=i,this.age=o},l=(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)},function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e,i,o,r)||this;return s.subjects=[],s}return l(n,t),n.prototype.displayInfo=function(){return{name:this.firstName+"-"+this.lastName,email:this.email,age:""+this.age}},n}(c),h=function(){function t(t){this.parentElement=t,this.teachersView=new e(this.parentElement,[new d(1,"Frank","Smith","frank@io.com",43),new d(2,"Logan","Jonsson","logan@io.com",47),new d(3,"Mia","Greger","mia@io.com",41),new d(4,"Boris","Rooney","frank@io.com",53)],"Teachers",["name","email","age"])}return t.prototype.init=function(){this.teachersView.init()},t}(),p=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),f=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e,i,o,r)||this;return s.studentMediator=null,s}return p(n,t),n.prototype.displayInfo=function(){return{name:this.firstName+"-"+this.lastName,email:this.email,age:""+this.age}},n.prototype.send=function(t,n){var e;null===(e=this.studentMediator)||void 0===e||e.send(t,this,n)},n.prototype.receive=function(t,n){return t+" - from "+n},n}(c),m=new i,y=function(){return[new f(1,"Frank","Mellberg","frank@io.com",21),new f(2,"Rio","Ferdinand","rio@io.com",25),new f(3,"Nemanja","Vidic","nemanja@io.com",32),new f(4,"Fredrik","ljungberg","fredrik@io.com",32),new f(5,"Lotta","Schelin","lotta@io.com",21),new f(6,"Stina","Olofsson","sina@io.com",21)]},w=function(){function t(t,n,i,o,r){this.parentElement=t,this.list=n,this.data=i,this.title=o,this.subTitles=r,this.listView=new e(this.parentElement,this.list,this.title,this.subTitles)}return t.prototype.render=function(){var t,n=this,e=document.querySelector(".modal");e.classList.add("show-modal");var i='\n    <div class="modal-container">\n      '+this.listView.renderRawHtml()+'\n      <button class="close-modal">\n        ❌\n      </button>\n    </div>\n    ';e.innerHTML=i,null===(t=document.querySelector(".close-modal"))||void 0===t||t.addEventListener("click",(function(){e.classList.remove("show-modal")})),console.log(this.listView);var o=document.querySelectorAll(".modal tbody tr").forEach((function(t){console.log(t.dataset.id===String(n.data.id)),console.log("tr.dataset.id",t.dataset.id)}));console.log("trs",o)},t}(),g=function(){function t(t){this.parentElement=t,this.studentsView=new e(this.parentElement,y(),"Students",["name","email","age"])}return t.prototype.handleClickStudent=function(){this.studentsView.clickHandler((function(t){var n=y().find((function(n){return n.id===t})),e=a(),i=document.querySelector(".modal-list");new w(i,e,n,"courses",["title","duration"]).render()}))},t.prototype.init=function(){this.studentsView.init(),this.handleClickStudent(),function(){for(var t=0,n=y();t<n.length;t++){var e=n[t];m.registerStudent(e)}}()},t}();new n(new h(document.getElementById("teacher")),new u(document.getElementById("course")),new g(document.getElementById("student"))).render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvYXBwLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC92aWV3cy9saXN0LXZpZXcudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy9tZWRpYXRvci50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvbW9kZWxzL2NvdXJzZS50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvY291cnNlLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9tb2RlbHMvUGVyc29uLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9tb2RlbHMvdGVhY2hlci50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvdGVhY2hlci50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvbW9kZWxzL3N0dWRlbnQudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL3ZpZXdzL21vZGFsLXZpZXcudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL3N0dWRlbnQudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsidGVhY2hlciIsImNvdXJzZXMiLCJzdHVkZW50cyIsInRoaXMiLCJyZW5kZXIiLCJpbml0IiwicGFyZW50RWxlbWVudCIsImRhdGFMaXN0IiwidGl0bGUiLCJzdWJUaXRsZXMiLCJjbGlja0hhbmRsZXIiLCJzdWJzY3JpYmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhcnNlSW50IiwiZGF0YXNldCIsImlkIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwiU3RyaW5nIiwiaHRtbCIsIm1hcCIsInQiLCJqb2luIiwiZGF0YSIsImRpc3BsYXlJbmZvIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImlubmVySFRNTCIsInJlbmRlclJhd0h0bWwiLCJtb3VudCIsImVsZW1lbnQiLCJyZWdpc3RlclN0dWRlbnQiLCJzdHVkZW50IiwiZmlyc3ROYW1lIiwic3R1ZGVudE1lZGlhdG9yIiwic2VuZCIsIm1lc3NhZ2UiLCJmcm9tIiwidG8iLCJyZWdpc3RlckNvdXJzZSIsImNvdXJzZSIsImNvdXJzZU1lZGlhdG9yIiwiZGVzY3JpcHRpb24iLCJkdXJhdGlvbiIsInJlY2VpdmUiLCJDb3Vyc2VNZWRpYXRvciIsImxvYWRDb3Vyc2VzIiwiQ291cnNlIiwiY291cnNlc1ZpZXciLCJMaXN0VmlldyIsInJlZ2lzdGVyQ291cnNlcyIsImxhc3ROYW1lIiwiZW1haWwiLCJhZ2UiLCJzdWJqZWN0cyIsIm5hbWUiLCJQZXJzb24iLCJ0ZWFjaGVyc1ZpZXciLCJUZWFjaGVyIiwiU3R1ZGVudE1lZGlhdG9yIiwibG9hZFN0dWRlbnRzIiwiU3R1ZGVudCIsImxpc3QiLCJsaXN0VmlldyIsIm1vZGFsV3JhcHBlciIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjb25zb2xlIiwibG9nIiwidHJzIiwic3R1ZGVudHNWaWV3IiwiaGFuZGxlQ2xpY2tTdHVkZW50IiwiZmluZCIsIm1vZGFsIiwicmVnaXN0ZXJBbGxTdHVkZW50cyIsIkFwcCIsIlRlYWNoZXJDb250cm9sbGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJDb3Vyc2VDb250cm9sbGVyIiwiU3R1ZGVudENvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJtQkFJQSxJLEVBQUEsYUFJRSxXQUFZQSxFQUE0QkMsRUFBMkJDLEdBQ2pFQyxLQUFLSCxRQUFVQSxFQUNmRyxLQUFLRixRQUFVQSxFQUNmRSxLQUFLRCxTQUFXQSxFQVFwQixPQUxFLFlBQUFFLE9BQUEsV0FDRUQsS0FBS0gsUUFBUUssT0FDYkYsS0FBS0YsUUFBUUksT0FDYkYsS0FBS0QsU0FBU0csUUFFbEIsRUFmQSxHQ0RBLGFBS0UsV0FDRUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQU4sS0FBS0csY0FBZ0JBLEVBQ3JCSCxLQUFLSSxTQUFXQSxFQUNoQkosS0FBS0ssTUFBUUEsRUFDYkwsS0FBS00sVUFBWUEsRUE0RXJCLE9BekVFLFlBQUFDLGFBQUEsU0FBYUMsR0FDQ0MsU0FBU0MsaUJBQWlCLE1BQ2xDQyxTQUFRLFNBQUFDLEdBQ1YsT0FBQUEsRUFBR0MsaUJBQWlCLFNBQVMsV0FDM0JMLEVBQVdNLFNBQVNGLEVBQUdHLFFBQVFDLEdBQUssS0FDcENDLGVBQWVDLFFBQVEsT0FBUUMsT0FBT1AsRUFBR0csUUFBUUMsWUFLL0MsWUFBQWYsT0FBUixXQUNFLElBQU1tQixFQUFPLDJDQUN1QnBCLEtBQUtLLE1BQUsseUJBQzlCTCxLQUFLSyxNQUFLLHdCQUNYTCxLQUFLSyxNQUFLLDBDQUVqQkwsS0FBS00sVUFBVWUsS0FBSSxTQUFBQyxHQUFLLGFBQU9BLEVBQUMsV0FBU0MsS0FBSyxJQUFHLGtEQUdoRHZCLEtBQUtJLFNBQ0xpQixLQUFJLFNBQUNHLEdBQ0osSUFBTUMsRUFBY0QsRUFBS0MsY0FDekIsTUFBTyxrQ0FDVUQsRUFBS1IsR0FBRSx1QkFDcEJVLE9BQU9DLEtBQUtGLEdBQ1hKLEtBQUksU0FBQU8sR0FBTyxhQUFPSCxFQUFZRyxHQUFJLFdBQ2xDTCxLQUFLLElBQUcseUNBSWRBLEtBQUssSUFBRyx1REFLakJ2QixLQUFLRyxjQUFjMEIsVUFBWVQsR0FHakMsWUFBQVUsY0FBQSxXQXlCRSxNQXhCYSwyQ0FDdUI5QixLQUFLSyxNQUFLLHFDQUUvQkwsS0FBS0ssTUFBSywwQ0FFakJMLEtBQUtNLFVBQVVlLEtBQUksU0FBQUMsR0FBSyxhQUFPQSxFQUFDLFdBQVNDLEtBQUssSUFBRyxrREFHaER2QixLQUFLSSxTQUNMaUIsS0FBSSxTQUFDRyxHQUNKLElBQU1DLEVBQWNELEVBQUtDLGNBQ3pCLE1BQU8sa0NBQ1VELEVBQUtSLEdBQUUsdUJBQ3BCVSxPQUFPQyxLQUFLRixHQUNYSixLQUFJLFNBQUFPLEdBQU8sYUFBT0gsRUFBWUcsR0FBSSxXQUNsQ0wsS0FBSyxJQUFHLHlDQUlkQSxLQUFLLElBQUcsd0RBUW5CLFlBQUFRLE1BQUEsU0FBTUMsR0FDSkEsRUFBUUgsVUFBWTdCLEtBQUs4QixpQkFHM0IsWUFBQTVCLEtBQUEsV0FDRUYsS0FBS0MsVUFFVCxFQTFGQSxHQ0FBLGFBRUUsYUFDRUQsS0FBS0QsU0FBVyxHQVdwQixPQVJFLFlBQUFrQyxnQkFBQSxTQUFnQkMsR0FDZGxDLEtBQUtELFNBQVNtQyxFQUFRQyxXQUFhRCxFQUNuQ0EsRUFBUUUsZ0JBQWtCcEMsTUFHNUIsWUFBQXFDLEtBQUEsU0FBS0MsRUFBaUJDLEVBQWVDLEtBR3ZDLEVBZEEsR0FlQSxhQUVFLGFBQ0V4QyxLQUFLRixRQUFVLEdBV25CLE9BUkUsWUFBQTJDLGVBQUEsU0FBZUMsR0FDYjFDLEtBQUtGLFFBQVE0QyxFQUFPckMsT0FBU3FDLEVBQzdCQSxFQUFPQyxlQUFpQjNDLE1BRzFCLFlBQUFxQyxLQUFBLFNBQUtDLEVBQWlCQyxFQUFjQyxLQUd0QyxFQWRBLEdDaEJBLGFBTUUsV0FBWXhCLEVBQVlYLEVBQWV1QyxFQUFxQkMsR0FDMUQ3QyxLQUFLZ0IsR0FBS0EsRUFDVmhCLEtBQUtLLE1BQVFBLEVBQ2JMLEtBQUs0QyxZQUFjQSxFQUNuQjVDLEtBQUs2QyxTQUFXQSxFQUNoQjdDLEtBQUsyQyxlQUFpQixLQVcxQixPQVJFLFlBQUFsQixZQUFBLFdBQ0UsTUFBTyxDQUNMcEIsTUFBT0wsS0FBS0ssTUFDWndDLFNBQVU3QyxLQUFLNkMsV0FHbkIsWUFBQVIsS0FBQSxhQUNBLFlBQUFTLFFBQUEsYUFDRixFQXRCQSxHQXdCTUgsRUFBaUIsSUFBSUksRUFFckJDLEVBQWMsV0FBZ0IsT0FDbEMsSUFBSUMsRUFBTyxFQUFHLE9BQVEsb0JBQXFCLE1BQzNDLElBQUlBLEVBQU8sRUFBRyxVQUFXLDBCQUEyQixNQUNwRCxJQUFJQSxFQUFPLEVBQUcsVUFBVyxzREFBdUQsTUFDaEYsSUFBSUEsRUFBTyxFQUFHLFVBQVcsdUNBQXdDLFFDN0JuRSxhQUdFLFdBQVk5QyxHQUNWSCxLQUFLRyxjQUFnQkEsRUFDckJILEtBQUtrRCxZQUFjLElBQUlDLEVBQVNuRCxLQUFLRyxjQUFlNkMsSUFBZSxVQUFXLENBQzVFLFFBQ0EsYUFRTixPQUpFLFlBQUE5QyxLQUFBLFdBQ0VGLEtBQUtrRCxZQUFZaEQsT0RvQkcsV0FDdEIsSUFBbUIsVUFBQThDLElBQUEsZUFBZSxDQUE3QixJQUFJTixFQUFNLEtBQ2JDLEVBQWVGLGVBQWVDLElDckI5QlUsSUFFSixFQWZBLEdDSEEsRUFNRSxTQUFZcEMsRUFBWW1CLEVBQW1Ca0IsRUFBa0JDLEVBQWVDLEdBQzFFdkQsS0FBS2dCLEdBQUtBLEVBQ1ZoQixLQUFLbUMsVUFBWUEsRUFDakJuQyxLQUFLcUQsU0FBV0EsRUFDaEJyRCxLQUFLc0QsTUFBUUEsRUFDYnRELEtBQUt1RCxJQUFNQSxHLDBVQ1BmLGNBRUUsV0FBWXZDLEVBQVltQixFQUFtQmtCLEVBQWtCQyxFQUFlQyxHQUE1RSxNQUNFLFlBQU12QyxFQUFJbUIsRUFBV2tCLEVBQVVDLEVBQU9DLElBQUksSyxPQUMxQyxFQUFLQyxTQUFXLEcsRUFVcEIsT0FkNkIsT0FPM0IsWUFBQS9CLFlBQUEsV0FDRSxNQUFPLENBQ0xnQyxLQUFTekQsS0FBS21DLFVBQVMsSUFBSW5DLEtBQUtxRCxTQUNoQ0MsTUFBT3RELEtBQUtzRCxNQUNaQyxJQUFLLEdBQUd2RCxLQUFLdUQsTUFHbkIsRUFkQSxDQUE2QkcsR0NEN0IsYUFHRSxXQUFZdkQsR0FDVkgsS0FBS0csY0FBZ0JBLEVBQ3JCSCxLQUFLMkQsYUFBZSxJQUFJUixFQUFTbkQsS0FBS0csY0RZUixDQUNoQyxJQUFJeUQsRUFBUSxFQUFHLFFBQVMsUUFBUyxlQUFnQixJQUNqRCxJQUFJQSxFQUFRLEVBQUcsUUFBUyxVQUFXLGVBQWdCLElBQ25ELElBQUlBLEVBQVEsRUFBRyxNQUFPLFNBQVUsYUFBYyxJQUM5QyxJQUFJQSxFQUFRLEVBQUcsUUFBUyxTQUFVLGVBQWdCLEtDaEJxQixXQUFZLENBQy9FLE9BQ0EsUUFDQSxRQU9OLE9BSEUsWUFBQTFELEtBQUEsV0FDRUYsS0FBSzJELGFBQWF6RCxRQUV0QixFQWZBLEcsaVdDQ0EsY0FFRSxXQUFZYyxFQUFZbUIsRUFBbUJrQixFQUFrQkMsRUFBZUMsR0FBNUUsTUFDRSxZQUFNdkMsRUFBSW1CLEVBQVdrQixFQUFVQyxFQUFPQyxJQUFJLEssT0FDMUMsRUFBS25CLGdCQUFrQixLLEVBZTNCLE9BbkJzQixPQU1wQixZQUFBWCxZQUFBLFdBQ0UsTUFBTyxDQUNMZ0MsS0FBU3pELEtBQUttQyxVQUFTLElBQUluQyxLQUFLcUQsU0FDaENDLE1BQU90RCxLQUFLc0QsTUFDWkMsSUFBSyxHQUFHdkQsS0FBS3VELE1BR2pCLFlBQUFsQixLQUFBLFNBQUtDLEVBQWlCRSxHLE1BQ0EsUUFBcEIsRUFBQXhDLEtBQUtvQyx1QkFBZSxTQUFFQyxLQUFLQyxFQUFTdEMsS0FBTXdDLElBRTVDLFlBQUFNLFFBQUEsU0FBUVIsRUFBaUJDLEdBQ3ZCLE9BQVVELEVBQU8sV0FBV0MsR0FFaEMsRUFuQkEsQ0FBc0JtQixHQXFCaEJ0QixFQUFrQixJQUFJeUIsRUFFdEJDLEVBQWUsV0FBTSxPQUN6QixJQUFJQyxFQUFRLEVBQUcsUUFBUyxXQUFZLGVBQWdCLElBQ3BELElBQUlBLEVBQVEsRUFBRyxNQUFPLFlBQWEsYUFBYyxJQUNqRCxJQUFJQSxFQUFRLEVBQUcsVUFBVyxRQUFTLGlCQUFrQixJQUNyRCxJQUFJQSxFQUFRLEVBQUcsVUFBVyxZQUFhLGlCQUFrQixJQUN6RCxJQUFJQSxFQUFRLEVBQUcsUUFBUyxVQUFXLGVBQWdCLElBQ25ELElBQUlBLEVBQVEsRUFBRyxRQUFTLFdBQVksY0FBZSxNQzdCckQsYUFPRSxXQUNFNUQsRUFDQTZELEVBQ0F4QyxFQUNBbkIsRUFDQUMsR0FFQU4sS0FBS0csY0FBZ0JBLEVBQ3JCSCxLQUFLZ0UsS0FBT0EsRUFDWmhFLEtBQUt3QixLQUFPQSxFQUNaeEIsS0FBS0ssTUFBUUEsRUFDYkwsS0FBS00sVUFBWUEsRUFDakJOLEtBQUtpRSxTQUFXLElBQUlkLEVBQVNuRCxLQUFLRyxjQUFlSCxLQUFLZ0UsS0FBTWhFLEtBQUtLLE1BQU9MLEtBQUtNLFdBOEJqRixPQTNCRSxZQUFBTCxPQUFBLGUsRUFBQSxPQUNRaUUsRUFBZXpELFNBQVMwRCxjQUFjLFVBQzVDRCxFQUFhRSxVQUFVQyxJQUFJLGNBRTNCLElBQU1qRCxFQUFPLDhDQUVUcEIsS0FBS2lFLFNBQVNuQyxnQkFBZSxxRkFPakNvQyxFQUFhckMsVUFBWVQsRUFDYSxRQUF0QyxFQUFBWCxTQUFTMEQsY0FBYyx1QkFBZSxTQUFFdEQsaUJBQWlCLFNBQVMsV0FDaEVxRCxFQUFhRSxVQUFVRSxPQUFPLGlCQUVoQ0MsUUFBUUMsSUFBSXhFLEtBQUtpRSxVQUVqQixJQUFNUSxFQUFNaEUsU0FBU0MsaUJBQWlCLG1CQUFtQkMsU0FBUSxTQUFDQyxHQUNoRTJELFFBQVFDLElBQUk1RCxFQUFHRyxRQUFRQyxLQUFPRyxPQUFPLEVBQUtLLEtBQUtSLEtBQy9DdUQsUUFBUUMsSUFBSSxnQkFBaUI1RCxFQUFHRyxRQUFRQyxPQUUxQ3VELFFBQVFDLElBQUksTUFBT0MsSUFJdkIsRUFqREEsR0NDQSxhQUdFLFdBQVl0RSxHQUNWSCxLQUFLRyxjQUFnQkEsRUFDckJILEtBQUswRSxhQUFlLElBQUl2QixFQUFTbkQsS0FBS0csY0FBZTJELElBQWdCLFdBQVksQ0FDL0UsT0FDQSxRQUNBLFFBdUJOLE9BbkJFLFlBQUFhLG1CQUFBLFdBQ0UzRSxLQUFLMEUsYUFBYW5FLGNBQWEsU0FBQ1MsR0FDOUIsSUFDTVEsRUFEVXNDLElBQWVjLE1BQUssU0FBQTFDLEdBQVcsT0FBQUEsRUFBUWxCLEtBQU9BLEtBRXhEbEIsRUFBVWtELElBQ1Y2QixFQUFRcEUsU0FBUzBELGNBQWMsZUFDckMsSUFBSSxFQUFpQ1UsRUFBTy9FLEVBQVMwQixFQUFNLFVBQVcsQ0FDcEUsUUFDQSxhQUNDdkIsYUFJUCxZQUFBQyxLQUFBLFdBQ0VGLEtBQUswRSxhQUFheEUsT0FDbEJGLEtBQUsyRSxxQkZJbUIsV0FDMUIsSUFBb0IsVUFBQWIsSUFBQSxlQUFnQixDQUEvQixJQUFJNUIsRUFBTyxLQUNkRSxFQUFnQkgsZ0JBQWdCQyxJRUxoQzRDLElBR0osRUEvQkEsR0NLRSxJQUFJQyxFQUNGLElBQUlDLEVBQWtCdkUsU0FBU3dFLGVBQWUsWUFDOUMsSUFBSUMsRUFBaUJ6RSxTQUFTd0UsZUFBZSxXQUM3QyxJQUFJRSxFQUFrQjFFLFNBQVN3RSxlQUFlLGFBQzlDaEYsVSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZWFjaGVyQ29udHJvbGxlciB9IGZyb20gXCIuL3RlYWNoZXJcIlxuaW1wb3J0IHsgQ291cnNlQ29udHJvbGxlciB9IGZyb20gXCIuL2NvdXJzZVwiXG5pbXBvcnQgeyBTdHVkZW50Q29udHJvbGxlciB9IGZyb20gXCIuL3N0dWRlbnRcIlxuXG5leHBvcnQgY2xhc3MgQXBwIHtcbiAgdGVhY2hlcjogVGVhY2hlckNvbnRyb2xsZXJcbiAgY291cnNlczogQ291cnNlQ29udHJvbGxlclxuICBzdHVkZW50czogU3R1ZGVudENvbnRyb2xsZXJcbiAgY29uc3RydWN0b3IodGVhY2hlcjogVGVhY2hlckNvbnRyb2xsZXIsIGNvdXJzZXM6IENvdXJzZUNvbnRyb2xsZXIsIHN0dWRlbnRzOiBTdHVkZW50Q29udHJvbGxlcikge1xuICAgIHRoaXMudGVhY2hlciA9IHRlYWNoZXJcbiAgICB0aGlzLmNvdXJzZXMgPSBjb3Vyc2VzXG4gICAgdGhpcy5zdHVkZW50cyA9IHN0dWRlbnRzXG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgdGhpcy50ZWFjaGVyLmluaXQoKVxuICAgIHRoaXMuY291cnNlcy5pbml0KClcbiAgICB0aGlzLnN0dWRlbnRzLmluaXQoKVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb3Vyc2UgfSBmcm9tIFwiLi4vLi4vbXZjL21vZGVscy9jb3Vyc2UtbW9kZWxcIlxuaW1wb3J0IHsgVGVhY2hlciB9IGZyb20gXCIuLi9tb2RlbHMvdGVhY2hlclwiXG5cbmV4cG9ydCBjbGFzcyBMaXN0VmlldzxUPiB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIGRhdGFMaXN0OiBBcnJheTxUPlxuICB0aXRsZTogc3RyaW5nXG4gIHN1YlRpdGxlczogc3RyaW5nW11cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQsXG4gICAgZGF0YUxpc3Q6IEFycmF5PFQ+LFxuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgc3ViVGl0bGVzOiBzdHJpbmdbXVxuICApIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50XG4gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGFMaXN0XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlXG4gICAgdGhpcy5zdWJUaXRsZXMgPSBzdWJUaXRsZXNcbiAgfVxuXG4gIGNsaWNrSGFuZGxlcihzdWJzY3JpYmVyOiBGdW5jdGlvbikge1xuICAgIGNvbnN0IHRycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0clwiKVxuICAgIHRycy5mb3JFYWNoKHRyID0+XG4gICAgICB0ci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBzdWJzY3JpYmVyKHBhcnNlSW50KHRyLmRhdGFzZXQuaWQhLCAxMCkpXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsIFN0cmluZyh0ci5kYXRhc2V0LmlkKSlcbiAgICAgIH0pXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtd3JhcHBlciB3cmFwcGVyLSR7dGhpcy50aXRsZX1cIj5cbiAgICA8dGFibGUgY2xhc3M9XCIke3RoaXMudGl0bGV9XCI+XG4gICAgICAgIDxjYXB0aW9uPiR7dGhpcy50aXRsZX08L2NhcHRpb24+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAke3RoaXMuc3ViVGl0bGVzLm1hcCh0ID0+IGA8dGg+JHt0fTwvdGg+YCkuam9pbihcIlwiKX1cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICR7KHRoaXMuZGF0YUxpc3QgYXMgQXJyYXk8YW55PilcbiAgICAgICAgICAgIC5tYXAoKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5SW5mbyA9IGRhdGEuZGlzcGxheUluZm8oKSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9XG4gICAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPHRyIGRhdGEtaWQ9XCIke2RhdGEuaWR9XCI+XG4gICAgICAgICAgICAgICAgJHtPYmplY3Qua2V5cyhkaXNwbGF5SW5mbylcbiAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGA8dGQ+JHtkaXNwbGF5SW5mb1trZXldfTwvdGQ+YClcbiAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cbiAgICBgXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IGh0bWxcbiAgfVxuXG4gIHJlbmRlclJhd0h0bWwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS13cmFwcGVyIHdyYXBwZXItJHt0aGlzLnRpdGxlfVwiPlxuICAgIDx0YWJsZT5cbiAgICAgICAgPGNhcHRpb24+JHt0aGlzLnRpdGxlfTwvY2FwdGlvbj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICR7dGhpcy5zdWJUaXRsZXMubWFwKHQgPT4gYDx0aD4ke3R9PC90aD5gKS5qb2luKFwiXCIpfVxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgJHsodGhpcy5kYXRhTGlzdCBhcyBBcnJheTxhbnk+KVxuICAgICAgICAgICAgLm1hcCgoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlJbmZvID0gZGF0YS5kaXNwbGF5SW5mbygpIGFzIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgICA8dHIgZGF0YS1pZD1cIiR7ZGF0YS5pZH1cIj5cbiAgICAgICAgICAgICAgICAke09iamVjdC5rZXlzKGRpc3BsYXlJbmZvKVxuICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4gYDx0ZD4ke2Rpc3BsYXlJbmZvW2tleV19PC90ZD5gKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICBgXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvZGl2PlxuICAgIGBcbiAgICByZXR1cm4gaHRtbFxuICB9XG5cbiAgbW91bnQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMucmVuZGVyUmF3SHRtbCgpXG4gIH1cblxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMucmVuZGVyKClcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ291cnNlIH0gZnJvbSBcIi4vY291cnNlXCJcbmltcG9ydCB7IFN0dWRlbnQgfSBmcm9tIFwiLi9zdHVkZW50XCJcblxuY2xhc3MgU3R1ZGVudE1lZGlhdG9yIHtcbiAgc3R1ZGVudHM6IFJlY29yZDxzdHJpbmcsIFN0dWRlbnQ+XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3R1ZGVudHMgPSB7fVxuICB9XG5cbiAgcmVnaXN0ZXJTdHVkZW50KHN0dWRlbnQ6IFN0dWRlbnQpIHtcbiAgICB0aGlzLnN0dWRlbnRzW3N0dWRlbnQuZmlyc3ROYW1lXSA9IHN0dWRlbnRcbiAgICBzdHVkZW50LnN0dWRlbnRNZWRpYXRvciA9IHRoaXNcbiAgfVxuXG4gIHNlbmQobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBTdHVkZW50LCB0bz86IFN0dWRlbnQpIHtcbiAgICAvL1xuICB9XG59XG5jbGFzcyBDb3Vyc2VNZWRpYXRvciB7XG4gIGNvdXJzZXM6IFJlY29yZDxzdHJpbmcsIENvdXJzZT5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb3Vyc2VzID0ge31cbiAgfVxuXG4gIHJlZ2lzdGVyQ291cnNlKGNvdXJzZTogQ291cnNlKSB7XG4gICAgdGhpcy5jb3Vyc2VzW2NvdXJzZS50aXRsZV0gPSBjb3Vyc2VcbiAgICBjb3Vyc2UuY291cnNlTWVkaWF0b3IgPSB0aGlzXG4gIH1cblxuICBzZW5kKG1lc3NhZ2U6IHN0cmluZywgZnJvbTogQ291cnNlLCB0bz86IENvdXJzZSkge1xuICAgIC8vXG4gIH1cbn1cblxuZXhwb3J0IHsgU3R1ZGVudE1lZGlhdG9yLCBDb3Vyc2VNZWRpYXRvciB9XG4iLCJpbXBvcnQgeyBDb3Vyc2VNZWRpYXRvciB9IGZyb20gXCIuL21lZGlhdG9yXCJcbmltcG9ydCB7IERpc3BsYXlJbmZvIH0gZnJvbSBcIi4uL3R5cGVzXCJcbmNsYXNzIENvdXJzZSB7XG4gIGlkOiBudW1iZXJcbiAgdGl0bGU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGR1cmF0aW9uOiBzdHJpbmdcbiAgY291cnNlTWVkaWF0b3I6IG51bGwgfCBDb3Vyc2VNZWRpYXRvclxuICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBkdXJhdGlvbjogc3RyaW5nKSB7XG4gICAgdGhpcy5pZCA9IGlkXG4gICAgdGhpcy50aXRsZSA9IHRpdGxlXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uXG4gICAgdGhpcy5jb3Vyc2VNZWRpYXRvciA9IG51bGxcbiAgfVxuXG4gIGRpc3BsYXlJbmZvKCk6IERpc3BsYXlJbmZvIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbixcbiAgICB9XG4gIH1cbiAgc2VuZCgpIHt9XG4gIHJlY2VpdmUoKSB7fVxufVxuXG5jb25zdCBjb3Vyc2VNZWRpYXRvciA9IG5ldyBDb3Vyc2VNZWRpYXRvcigpXG5cbmNvbnN0IGxvYWRDb3Vyc2VzID0gKCk6IENvdXJzZVtdID0+IFtcbiAgbmV3IENvdXJzZSgxLCBcIm1hdGhcIiwgXCJtYXRoIGlzIHdvbmRlcmZ1bFwiLCBcIjZoXCIpLFxuICBuZXcgQ291cnNlKDIsIFwiaGlzdG9yeVwiLCBcImhpc3RvcnkgaXMgZ29vZCBmb3IgeW91XCIsIFwiM2hcIiksXG4gIG5ldyBDb3Vyc2UoMywgXCJzd2VkaXNoXCIsIFwid2l0aG91dCBzd2VkaXNoIHlvdSB3aWxsIGZhY2Ugc29tZSBzZXJpb3VzIHByb2JsZW1zXCIsIFwiMmhcIiksXG4gIG5ldyBDb3Vyc2UoNCwgXCJlbmdsaXNoXCIsIFwidGhlIGdsb2JhbCBsYW5ndWFnZSwgbGVhcm4gaXQgTk9XISEhXCIsIFwiNWhcIiksXG5dXG5cbmNvbnN0IHJlZ2lzdGVyQ291cnNlcyA9ICgpID0+IHtcbiAgZm9yIChsZXQgY291cnNlIG9mIGxvYWRDb3Vyc2VzKCkpIHtcbiAgICBjb3Vyc2VNZWRpYXRvci5yZWdpc3RlckNvdXJzZShjb3Vyc2UpXG4gIH1cbn1cblxuZXhwb3J0IHsgQ291cnNlLCBsb2FkQ291cnNlcywgcmVnaXN0ZXJDb3Vyc2VzIH1cbiIsImltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uL3ZpZXdzL2xpc3Qtdmlld1wiXG5pbXBvcnQgeyBDb3Vyc2UsIGxvYWRDb3Vyc2VzLCByZWdpc3RlckNvdXJzZXMgfSBmcm9tIFwiLi4vbW9kZWxzL2NvdXJzZVwiXG5cbmV4cG9ydCBjbGFzcyBDb3Vyc2VDb250cm9sbGVyIHtcbiAgcGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcbiAgY291cnNlc1ZpZXc6IExpc3RWaWV3PENvdXJzZT5cbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50XG4gICAgdGhpcy5jb3Vyc2VzVmlldyA9IG5ldyBMaXN0Vmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIGxvYWRDb3Vyc2VzKCksIFwiQ291cnNlc1wiLCBbXG4gICAgICBcInRpdGxlXCIsXG4gICAgICBcImR1cmF0aW9uXCIsXG4gICAgXSlcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5jb3Vyc2VzVmlldy5pbml0KClcbiAgICByZWdpc3RlckNvdXJzZXMoKVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUGVyc29uIHtcbiAgaWQ6IG51bWJlclxuICBmaXJzdE5hbWU6IHN0cmluZ1xuICBsYXN0TmFtZTogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgYWdlOiBudW1iZXJcbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgZmlyc3ROYW1lOiBzdHJpbmcsIGxhc3ROYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIGFnZTogbnVtYmVyKSB7XG4gICAgdGhpcy5pZCA9IGlkXG4gICAgdGhpcy5maXJzdE5hbWUgPSBmaXJzdE5hbWVcbiAgICB0aGlzLmxhc3ROYW1lID0gbGFzdE5hbWVcbiAgICB0aGlzLmVtYWlsID0gZW1haWxcbiAgICB0aGlzLmFnZSA9IGFnZVxuICB9XG59XG4iLCJpbXBvcnQgeyBQZXJzb24gfSBmcm9tIFwiLi9QZXJzb25cIlxuaW1wb3J0IHsgU3ViamVjdCwgVGVhY2hlclN0dWRlbnRDb25zdHJ1Y3QgfSBmcm9tIFwiLi4vdHlwZXNcIlxuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiXG5cbmV4cG9ydCBjbGFzcyBUZWFjaGVyIGV4dGVuZHMgUGVyc29uIGltcGxlbWVudHMgVGVhY2hlclN0dWRlbnRDb25zdHJ1Y3Qge1xuICBzdWJqZWN0czogU3ViamVjdFtdXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIGZpcnN0TmFtZTogc3RyaW5nLCBsYXN0TmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBhZ2U6IG51bWJlcikge1xuICAgIHN1cGVyKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgYWdlKVxuICAgIHRoaXMuc3ViamVjdHMgPSBbXVxuICB9XG5cbiAgZGlzcGxheUluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGAke3RoaXMuZmlyc3ROYW1lfS0ke3RoaXMubGFzdE5hbWV9YCxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLFxuICAgICAgYWdlOiBgJHt0aGlzLmFnZX1gLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9hZFRlYWNoZXJzID0gKCkgPT4gW1xuICBuZXcgVGVhY2hlcigxLCBcIkZyYW5rXCIsIFwiU21pdGhcIiwgXCJmcmFua0Bpby5jb21cIiwgNDMpLFxuICBuZXcgVGVhY2hlcigyLCBcIkxvZ2FuXCIsIFwiSm9uc3NvblwiLCBcImxvZ2FuQGlvLmNvbVwiLCA0NyksXG4gIG5ldyBUZWFjaGVyKDMsIFwiTWlhXCIsIFwiR3JlZ2VyXCIsIFwibWlhQGlvLmNvbVwiLCA0MSksXG4gIG5ldyBUZWFjaGVyKDQsIFwiQm9yaXNcIiwgXCJSb29uZXlcIiwgXCJmcmFua0Bpby5jb21cIiwgNTMpLFxuXVxuIiwiaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vdmlld3MvbGlzdC12aWV3XCJcbmltcG9ydCB7IGxvYWRUZWFjaGVycywgVGVhY2hlciB9IGZyb20gXCIuLi9tb2RlbHMvdGVhY2hlclwiXG5cbmV4cG9ydCBjbGFzcyBUZWFjaGVyQ29udHJvbGxlciB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIHRlYWNoZXJzVmlldzogTGlzdFZpZXc8VGVhY2hlcj5cbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50XG4gICAgdGhpcy50ZWFjaGVyc1ZpZXcgPSBuZXcgTGlzdFZpZXcodGhpcy5wYXJlbnRFbGVtZW50LCBsb2FkVGVhY2hlcnMoKSwgXCJUZWFjaGVyc1wiLCBbXG4gICAgICBcIm5hbWVcIixcbiAgICAgIFwiZW1haWxcIixcbiAgICAgIFwiYWdlXCIsXG4gICAgXSlcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy50ZWFjaGVyc1ZpZXcuaW5pdCgpXG4gIH1cbn1cbiIsImltcG9ydCB7IENvdXJzZSB9IGZyb20gXCIuL2NvdXJzZVwiXG5pbXBvcnQgeyBTdHVkZW50TWVkaWF0b3IgfSBmcm9tIFwiLi9tZWRpYXRvclwiXG5pbXBvcnQgeyBQZXJzb24gfSBmcm9tIFwiLi9QZXJzb25cIlxuXG5jbGFzcyBTdHVkZW50IGV4dGVuZHMgUGVyc29uIHtcbiAgc3R1ZGVudE1lZGlhdG9yOiBudWxsIHwgU3R1ZGVudE1lZGlhdG9yXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIGZpcnN0TmFtZTogc3RyaW5nLCBsYXN0TmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBhZ2U6IG51bWJlcikge1xuICAgIHN1cGVyKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgYWdlKVxuICAgIHRoaXMuc3R1ZGVudE1lZGlhdG9yID0gbnVsbFxuICB9XG4gIGRpc3BsYXlJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBgJHt0aGlzLmZpcnN0TmFtZX0tJHt0aGlzLmxhc3ROYW1lfWAsXG4gICAgICBlbWFpbDogdGhpcy5lbWFpbCxcbiAgICAgIGFnZTogYCR7dGhpcy5hZ2V9YCxcbiAgICB9XG4gIH1cbiAgc2VuZChtZXNzYWdlOiBzdHJpbmcsIHRvPzogU3R1ZGVudCkge1xuICAgIHRoaXMuc3R1ZGVudE1lZGlhdG9yPy5zZW5kKG1lc3NhZ2UsIHRoaXMsIHRvKVxuICB9XG4gIHJlY2VpdmUobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBTdHVkZW50KTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7bWVzc2FnZX0gLSBmcm9tICR7ZnJvbX1gXG4gIH1cbn1cblxuY29uc3Qgc3R1ZGVudE1lZGlhdG9yID0gbmV3IFN0dWRlbnRNZWRpYXRvcigpXG5cbmNvbnN0IGxvYWRTdHVkZW50cyA9ICgpID0+IFtcbiAgbmV3IFN0dWRlbnQoMSwgXCJGcmFua1wiLCBcIk1lbGxiZXJnXCIsIFwiZnJhbmtAaW8uY29tXCIsIDIxKSxcbiAgbmV3IFN0dWRlbnQoMiwgXCJSaW9cIiwgXCJGZXJkaW5hbmRcIiwgXCJyaW9AaW8uY29tXCIsIDI1KSxcbiAgbmV3IFN0dWRlbnQoMywgXCJOZW1hbmphXCIsIFwiVmlkaWNcIiwgXCJuZW1hbmphQGlvLmNvbVwiLCAzMiksXG4gIG5ldyBTdHVkZW50KDQsIFwiRnJlZHJpa1wiLCBcImxqdW5nYmVyZ1wiLCBcImZyZWRyaWtAaW8uY29tXCIsIDMyKSxcbiAgbmV3IFN0dWRlbnQoNSwgXCJMb3R0YVwiLCBcIlNjaGVsaW5cIiwgXCJsb3R0YUBpby5jb21cIiwgMjEpLFxuICBuZXcgU3R1ZGVudCg2LCBcIlN0aW5hXCIsIFwiT2xvZnNzb25cIiwgXCJzaW5hQGlvLmNvbVwiLCAyMSksXG5dXG5cbmNvbnN0IHJlZ2lzdGVyQWxsU3R1ZGVudHMgPSAoKTogdm9pZCA9PiB7XG4gIGZvciAobGV0IHN0dWRlbnQgb2YgbG9hZFN0dWRlbnRzKCkpIHtcbiAgICBzdHVkZW50TWVkaWF0b3IucmVnaXN0ZXJTdHVkZW50KHN0dWRlbnQpXG4gIH1cbn1cblxuZXhwb3J0IHsgU3R1ZGVudCwgbG9hZFN0dWRlbnRzLCBzdHVkZW50TWVkaWF0b3IsIHJlZ2lzdGVyQWxsU3R1ZGVudHMgfVxuIiwiaW1wb3J0IHsgU3R1ZGVudCB9IGZyb20gXCIuLi9tb2RlbHMvc3R1ZGVudFwiXG5pbXBvcnQgeyBUZWFjaGVyIH0gZnJvbSBcIi4uL21vZGVscy90ZWFjaGVyXCJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4vbGlzdC12aWV3XCJcblxuZXhwb3J0IGNsYXNzIE1vZGFsVmlldzxULCBTPiB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIGxpc3Q6IEFycmF5PGFueT5cbiAgZGF0YTogU3R1ZGVudCB8IFRlYWNoZXJcbiAgdGl0bGU6IHN0cmluZ1xuICBsaXN0VmlldzogTGlzdFZpZXc8VD5cbiAgc3ViVGl0bGVzOiBzdHJpbmdbXVxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICBsaXN0OiBhbnksXG4gICAgZGF0YTogU3R1ZGVudCB8IFRlYWNoZXIsXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBzdWJUaXRsZXM6IHN0cmluZ1tdXG4gICkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcbiAgICB0aGlzLmxpc3QgPSBsaXN0XG4gICAgdGhpcy5kYXRhID0gZGF0YVxuICAgIHRoaXMudGl0bGUgPSB0aXRsZVxuICAgIHRoaXMuc3ViVGl0bGVzID0gc3ViVGl0bGVzXG4gICAgdGhpcy5saXN0VmlldyA9IG5ldyBMaXN0Vmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMubGlzdCwgdGhpcy50aXRsZSwgdGhpcy5zdWJUaXRsZXMpXG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKSBhcyBIVE1MRExpc3RFbGVtZW50XG4gICAgbW9kYWxXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJzaG93LW1vZGFsXCIpXG5cbiAgICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cbiAgICAgICR7dGhpcy5saXN0Vmlldy5yZW5kZXJSYXdIdG1sKCl9XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiY2xvc2UtbW9kYWxcIj5cbiAgICAgICAg4p2MXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICBgXG5cbiAgICBtb2RhbFdyYXBwZXIuaW5uZXJIVE1MID0gaHRtbFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2UtbW9kYWxcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBtb2RhbFdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctbW9kYWxcIilcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdFZpZXcpXG4gICAgLy8gY29uc29sZS5sb2coZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKSlcbiAgICBjb25zdCB0cnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsIHRib2R5IHRyXCIpLmZvckVhY2goKHRyOiBhbnkpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHRyLmRhdGFzZXQuaWQgPT09IFN0cmluZyh0aGlzLmRhdGEuaWQpKVxuICAgICAgY29uc29sZS5sb2coXCJ0ci5kYXRhc2V0LmlkXCIsIHRyLmRhdGFzZXQuaWQpXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhcInRyc1wiLCB0cnMpXG4gICAgLy8gY29uc29sZS5sb2coXCJ0cnNcIiwgdHJzKVxuICAgIC8vIGNvbnN0IHhzID0gQXJyYXkuZnJvbSh0cnMpXG4gIH1cbn1cbiIsImltcG9ydCB7IGxvYWRTdHVkZW50cywgU3R1ZGVudCwgcmVnaXN0ZXJBbGxTdHVkZW50cywgc3R1ZGVudE1lZGlhdG9yIH0gZnJvbSBcIi4uL21vZGVscy9zdHVkZW50XCJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uL3ZpZXdzL2xpc3Qtdmlld1wiXG5pbXBvcnQgeyBNb2RhbFZpZXcgYXMgQ291cnNlc01vZGFsVmlldyB9IGZyb20gXCIuLi92aWV3cy9tb2RhbC12aWV3XCJcbmltcG9ydCB7IGxvYWRDb3Vyc2VzIH0gZnJvbSBcIi4uL21vZGVscy9jb3Vyc2VcIlxuXG5leHBvcnQgY2xhc3MgU3R1ZGVudENvbnRyb2xsZXIge1xuICBwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudFxuICBzdHVkZW50c1ZpZXc6IExpc3RWaWV3PFN0dWRlbnQ+XG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudFxuICAgIHRoaXMuc3R1ZGVudHNWaWV3ID0gbmV3IExpc3RWaWV3KHRoaXMucGFyZW50RWxlbWVudCwgbG9hZFN0dWRlbnRzKCksIFwiU3R1ZGVudHNcIiwgW1xuICAgICAgXCJuYW1lXCIsXG4gICAgICBcImVtYWlsXCIsXG4gICAgICBcImFnZVwiLFxuICAgIF0pXG4gIH1cblxuICBoYW5kbGVDbGlja1N0dWRlbnQoKTogdm9pZCB7XG4gICAgdGhpcy5zdHVkZW50c1ZpZXcuY2xpY2tIYW5kbGVyKChpZDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBzdHVkZW50ID0gbG9hZFN0dWRlbnRzKCkuZmluZChzdHVkZW50ID0+IHN0dWRlbnQuaWQgPT09IGlkKVxuICAgICAgY29uc3QgZGF0YSA9IHN0dWRlbnQhIGFzIFN0dWRlbnRcbiAgICAgIGNvbnN0IGNvdXJzZXMgPSBsb2FkQ291cnNlcygpXG4gICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtbGlzdFwiKSBhcyBIVE1MRGl2RWxlbWVudFxuICAgICAgbmV3IENvdXJzZXNNb2RhbFZpZXc8YW55W10sIFN0dWRlbnQ+KG1vZGFsLCBjb3Vyc2VzLCBkYXRhLCBcImNvdXJzZXNcIiwgW1xuICAgICAgICBcInRpdGxlXCIsXG4gICAgICAgIFwiZHVyYXRpb25cIixcbiAgICAgIF0pLnJlbmRlcigpXG4gICAgfSlcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5zdHVkZW50c1ZpZXcuaW5pdCgpXG4gICAgdGhpcy5oYW5kbGVDbGlja1N0dWRlbnQoKVxuICAgIHJlZ2lzdGVyQWxsU3R1ZGVudHMoKVxuICAgIC8vIGNvbnNvbGUubG9nKFwic3R1ZGVudE1lZGlhdG9yXCIsIHN0dWRlbnRNZWRpYXRvcikgLy9mb3IgdGVzdGluZyFcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL2FwcFwiXG5pbXBvcnQgeyBDb3Vyc2VDb250cm9sbGVyIH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL2NvdXJzZVwiXG5pbXBvcnQgeyBUZWFjaGVyQ29udHJvbGxlciB9IGZyb20gXCIuL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy90ZWFjaGVyXCJcbmltcG9ydCB7IFN0dWRlbnRDb250cm9sbGVyIH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL3N0dWRlbnRcIlxuOygoKSA9PiB7XG4gIGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAodGFnOiBzdHJpbmcsIGNsYXNzTmFtZTogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZylcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKVxuICAgIHJldHVybiBlbGVtZW50XG4gIH1cbiAgbmV3IEFwcChcbiAgICBuZXcgVGVhY2hlckNvbnRyb2xsZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZWFjaGVyXCIpIGFzIEhUTUxEaXZFbGVtZW50KSxcbiAgICBuZXcgQ291cnNlQ29udHJvbGxlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdXJzZVwiKSBhcyBIVE1MRGl2RWxlbWVudCksXG4gICAgbmV3IFN0dWRlbnRDb250cm9sbGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3R1ZGVudFwiKSBhcyBIVE1MRGl2RWxlbWVudClcbiAgKS5yZW5kZXIoKVxufSkoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
=======
(()=>{"use strict";var t,n=function(){function t(t,n){this.teacher=t,this.students=n}return t.prototype.render=function(){this.teacher.init(),this.students.init()},t}(),e=function(){function t(t,n,e,i){this.parentElement=t,this.dataList=n,this.title=e,this.subTitles=i}return t.prototype.clickHandler=function(t){document.querySelectorAll("tr").forEach((function(n){return n.addEventListener("click",(function(){t(parseInt(n.dataset.id,10)),sessionStorage.setItem("user",String(n.dataset.id))}))}))},t.prototype.render=function(){var t='\n    <div class="table-wrapper wrapper-'+this.title+'">\n    <table class="'+this.title+'">\n        <caption>'+this.title+"</caption>\n        <thead>\n          "+this.subTitles.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+this.dataList.map((function(t){var n=t.displayInfo();return'\n                <tr data-id="'+t.id+'">\n                '+Object.keys(n).map((function(t){return'<td data-info="'+n[t]+'">'+n[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    ";this.parentElement.innerHTML=t},t.prototype.renderRawHtml=function(){return'\n    <div class="table-wrapper wrapper-'+this.title+'">\n    <table>\n        <caption>'+this.title+"</caption>\n        <thead>\n          "+this.subTitles.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+this.dataList.map((function(t){var n=t.displayInfo();return'\n                <tr data-id="'+t.id+'">\n                '+Object.keys(n).map((function(t){return"<td>"+n[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    "},t.prototype.mount=function(t){t.innerHTML=this.renderRawHtml()},t.prototype.init=function(){this.render()},t}(),i=function(t,n,e,i,o){this.id=t,this.firstName=n,this.lastName=e,this.email=i,this.age=o},o=(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)},function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e,i,o,r)||this;return s.subjects=[],s}return o(n,t),n.prototype.displayInfo=function(){return{name:this.firstName+"-"+this.lastName,email:this.email,age:""+this.age}},n}(i),s=function(){function t(t){this.parentElement=t,this.teachersView=new e(this.parentElement,[new r(1,"Frank","Smith","frank@io.com",43),new r(2,"Logan","Jonsson","logan@io.com",47),new r(3,"Mia","Greger","mia@io.com",41),new r(4,"Boris","Rooney","frank@io.com",53)],"Teachers",["name","email","age"])}return t.prototype.init=function(){this.teachersView.init()},t}(),a=function(){function t(){this.students={}}return t.prototype.registerStudent=function(t){this.students[t.firstName]=t,t.studentMediator=this},t.prototype.send=function(t,n,e){var i=this;e?e.receive(t,n):Object.keys(this.students).forEach((function(e){i.students[e]!==n&&i.students[e].receive(t,n)}))},t}(),u=function(){function t(){this.courses={}}return t.prototype.registerCourse=function(t){this.courses[t.title]=t,t.courseMediator=this},t.prototype.send=function(t,n,e){},t}(),c=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),d=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e,i,o,r)||this;return s.studentMediator=null,s}return c(n,t),n.prototype.displayInfo=function(){return{name:this.firstName+"-"+this.lastName,email:this.email,age:""+this.age}},n.prototype.send=function(t,n){var e;null===(e=this.studentMediator)||void 0===e||e.send(t,this,n)},n.prototype.receive=function(t,n){return t+" - from "+n},n}(i),l=new a,h=function(){return[new d(1,"Frank","Mellberg","frank@io.com",21),new d(2,"Rio","Ferdinand","rio@io.com",25),new d(3,"Nemanja","Vidic","nemanja@io.com",32),new d(4,"Fredrik","ljungberg","fredrik@io.com",32)]},p=function(){function t(t,n,i,o,r){this.parentElement=t,this.list=n,this.data=i,this.title=o,this.subTitles=r,this.listView=new e(this.parentElement,this.list,this.title,this.subTitles),this.confirmationText=""}return t.prototype.updateText=function(t){console.log("TEXT",t),this.confirmationText=t},t.prototype.render=function(){var t,n=this,e=document.querySelector(".modal");e.classList.add("show-modal");var i='\n    <div class="modal-container">\n      '+this.listView.renderRawHtml()+"\n      "+this.confirmationText+'\n      <button class="close-modal">\n        ❌\n      </button>\n    </div>\n    ';e.innerHTML=i,null===(t=document.querySelector(".close-modal"))||void 0===t||t.addEventListener("click",(function(){e.classList.remove("show-modal")})),document.querySelectorAll(".modal tbody tr").forEach((function(t){t.addEventListener("click",(function(t){if("send"in n.data){var e="You have now been registered to the "+t.target.innerText+" Course";n.data.send(e,n.data),n.updateText(e),n.updateHtml()}}))}))},t.prototype.updateHtml=function(){this.render()},t}(),f=function(){function t(t,n,e,i){this.id=t,this.title=n,this.description=e,this.duration=i,this.courseMediator=null}return t.prototype.displayInfo=function(){return{title:this.title,duration:this.duration}},t.prototype.send=function(){},t.prototype.receive=function(){},t}(),m=(new u,function(){return[new f(1,"math","math is wonderful","6h"),new f(2,"history","history is good for you","3h"),new f(3,"swedish","without swedish you will face some serious problems","2h"),new f(4,"english","the global language, learn it NOW!!!","5h")]}),y=function(){function t(t){this.parentElement=t,this.studentsView=new e(this.parentElement,h(),"Students",["name","email","age"])}return t.prototype.handleClickStudent=function(){this.studentsView.clickHandler((function(t){var n=h().find((function(n){return n.id===t}));console.log("data",n);var e=m(),i=document.querySelector(".modal-list");new p(i,e,n,"courses",["title","duration"]).render()}))},t.prototype.init=function(){this.studentsView.init(),this.handleClickStudent(),function(){for(var t=0,n=h();t<n.length;t++){var e=n[t];l.registerStudent(e)}}(),console.log("studentMediator",l)},t}();new n(new s(document.getElementById("teacher")),new y(document.getElementById("student"))).render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvYXBwLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC92aWV3cy9saXN0LXZpZXcudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy9QZXJzb24udHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy90ZWFjaGVyLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy90ZWFjaGVyLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9tb2RlbHMvbWVkaWF0b3IudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy9zdHVkZW50LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC92aWV3cy9tb2RhbC12aWV3LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9tb2RlbHMvY291cnNlLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy9zdHVkZW50LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbInRlYWNoZXIiLCJzdHVkZW50cyIsInRoaXMiLCJyZW5kZXIiLCJpbml0IiwicGFyZW50RWxlbWVudCIsImRhdGFMaXN0IiwidGl0bGUiLCJzdWJUaXRsZXMiLCJjbGlja0hhbmRsZXIiLCJzdWJzY3JpYmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhcnNlSW50IiwiZGF0YXNldCIsImlkIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwiU3RyaW5nIiwiaHRtbCIsIm1hcCIsInQiLCJqb2luIiwiZGF0YSIsImRpc3BsYXlJbmZvIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImlubmVySFRNTCIsInJlbmRlclJhd0h0bWwiLCJtb3VudCIsImVsZW1lbnQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwiYWdlIiwic3ViamVjdHMiLCJuYW1lIiwiUGVyc29uIiwidGVhY2hlcnNWaWV3IiwiTGlzdFZpZXciLCJUZWFjaGVyIiwicmVnaXN0ZXJTdHVkZW50Iiwic3R1ZGVudCIsInN0dWRlbnRNZWRpYXRvciIsInNlbmQiLCJtZXNzYWdlIiwiZnJvbSIsInRvIiwicmVjZWl2ZSIsImNvdXJzZXMiLCJyZWdpc3RlckNvdXJzZSIsImNvdXJzZSIsImNvdXJzZU1lZGlhdG9yIiwiU3R1ZGVudE1lZGlhdG9yIiwibG9hZFN0dWRlbnRzIiwiU3R1ZGVudCIsImxpc3QiLCJsaXN0VmlldyIsImNvbmZpcm1hdGlvblRleHQiLCJ1cGRhdGVUZXh0IiwidGV4dCIsImNvbnNvbGUiLCJsb2ciLCJtb2RhbFdyYXBwZXIiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZXZlbnQiLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJ1cGRhdGVIdG1sIiwiZGVzY3JpcHRpb24iLCJkdXJhdGlvbiIsImxvYWRDb3Vyc2VzIiwiQ291cnNlTWVkaWF0b3IiLCJDb3Vyc2UiLCJzdHVkZW50c1ZpZXciLCJoYW5kbGVDbGlja1N0dWRlbnQiLCJmaW5kIiwibW9kYWwiLCJyZWdpc3RlckFsbFN0dWRlbnRzIiwiQXBwIiwiVGVhY2hlckNvbnRyb2xsZXIiLCJnZXRFbGVtZW50QnlJZCIsIlN0dWRlbnRDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoibUJBSUEsSSxFQUFBLGFBSUUsV0FBWUEsRUFBNEJDLEdBQ3RDQyxLQUFLRixRQUFVQSxFQUVmRSxLQUFLRCxTQUFXQSxFQVFwQixPQUxFLFlBQUFFLE9BQUEsV0FDRUQsS0FBS0YsUUFBUUksT0FFYkYsS0FBS0QsU0FBU0csUUFFbEIsRUFmQSxHQ0RBLGFBS0UsV0FDRUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQU4sS0FBS0csY0FBZ0JBLEVBQ3JCSCxLQUFLSSxTQUFXQSxFQUNoQkosS0FBS0ssTUFBUUEsRUFDYkwsS0FBS00sVUFBWUEsRUE0RXJCLE9BekVFLFlBQUFDLGFBQUEsU0FBYUMsR0FDQ0MsU0FBU0MsaUJBQWlCLE1BQ2xDQyxTQUFRLFNBQUFDLEdBQ1YsT0FBQUEsRUFBR0MsaUJBQWlCLFNBQVMsV0FDM0JMLEVBQVdNLFNBQVNGLEVBQUdHLFFBQVFDLEdBQUssS0FDcENDLGVBQWVDLFFBQVEsT0FBUUMsT0FBT1AsRUFBR0csUUFBUUMsWUFLL0MsWUFBQWYsT0FBUixXQUNFLElBQU1tQixFQUFPLDJDQUN1QnBCLEtBQUtLLE1BQUsseUJBQzlCTCxLQUFLSyxNQUFLLHdCQUNYTCxLQUFLSyxNQUFLLDBDQUVqQkwsS0FBS00sVUFBVWUsS0FBSSxTQUFBQyxHQUFLLGFBQU9BLEVBQUMsV0FBU0MsS0FBSyxJQUFHLGtEQUdoRHZCLEtBQUtJLFNBQ0xpQixLQUFJLFNBQUNHLEdBQ0osSUFBTUMsRUFBY0QsRUFBS0MsY0FDekIsTUFBTyxrQ0FDVUQsRUFBS1IsR0FBRSx1QkFDcEJVLE9BQU9DLEtBQUtGLEdBQ1hKLEtBQUksU0FBQU8sR0FBTyx3QkFBa0JILEVBQVlHLEdBQUksS0FBS0gsRUFBWUcsR0FBSSxXQUNsRUwsS0FBSyxJQUFHLHlDQUlkQSxLQUFLLElBQUcsdURBS2pCdkIsS0FBS0csY0FBYzBCLFVBQVlULEdBR2pDLFlBQUFVLGNBQUEsV0F5QkUsTUF4QmEsMkNBQ3VCOUIsS0FBS0ssTUFBSyxxQ0FFL0JMLEtBQUtLLE1BQUssMENBRWpCTCxLQUFLTSxVQUFVZSxLQUFJLFNBQUFDLEdBQUssYUFBT0EsRUFBQyxXQUFTQyxLQUFLLElBQUcsa0RBR2hEdkIsS0FBS0ksU0FDTGlCLEtBQUksU0FBQ0csR0FDSixJQUFNQyxFQUFjRCxFQUFLQyxjQUN6QixNQUFPLGtDQUNVRCxFQUFLUixHQUFFLHVCQUNwQlUsT0FBT0MsS0FBS0YsR0FDWEosS0FBSSxTQUFBTyxHQUFPLGFBQU9ILEVBQVlHLEdBQUksV0FDbENMLEtBQUssSUFBRyx5Q0FJZEEsS0FBSyxJQUFHLHdEQVFuQixZQUFBUSxNQUFBLFNBQU1DLEdBQ0pBLEVBQVFILFVBQVk3QixLQUFLOEIsaUJBRzNCLFlBQUE1QixLQUFBLFdBQ0VGLEtBQUtDLFVBRVQsRUExRkEsR0NIQSxFQU1FLFNBQVllLEVBQVlpQixFQUFtQkMsRUFBa0JDLEVBQWVDLEdBQzFFcEMsS0FBS2dCLEdBQUtBLEVBQ1ZoQixLQUFLaUMsVUFBWUEsRUFDakJqQyxLQUFLa0MsU0FBV0EsRUFDaEJsQyxLQUFLbUMsTUFBUUEsRUFDYm5DLEtBQUtvQyxJQUFNQSxHLDBVQ1BmLGNBRUUsV0FBWXBCLEVBQVlpQixFQUFtQkMsRUFBa0JDLEVBQWVDLEdBQTVFLE1BQ0UsWUFBTXBCLEVBQUlpQixFQUFXQyxFQUFVQyxFQUFPQyxJQUFJLEssT0FDMUMsRUFBS0MsU0FBVyxHLEVBVXBCLE9BZDZCLE9BTzNCLFlBQUFaLFlBQUEsV0FDRSxNQUFPLENBQ0xhLEtBQVN0QyxLQUFLaUMsVUFBUyxJQUFJakMsS0FBS2tDLFNBQ2hDQyxNQUFPbkMsS0FBS21DLE1BQ1pDLElBQUssR0FBR3BDLEtBQUtvQyxNQUduQixFQWRBLENBQTZCRyxHQ0Q3QixhQUdFLFdBQVlwQyxHQUNWSCxLQUFLRyxjQUFnQkEsRUFDckJILEtBQUt3QyxhQUFlLElBQUlDLEVBQVN6QyxLQUFLRyxjRFlSLENBQ2hDLElBQUl1QyxFQUFRLEVBQUcsUUFBUyxRQUFTLGVBQWdCLElBQ2pELElBQUlBLEVBQVEsRUFBRyxRQUFTLFVBQVcsZUFBZ0IsSUFDbkQsSUFBSUEsRUFBUSxFQUFHLE1BQU8sU0FBVSxhQUFjLElBQzlDLElBQUlBLEVBQVEsRUFBRyxRQUFTLFNBQVUsZUFBZ0IsS0NoQnFCLFdBQVksQ0FDL0UsT0FDQSxRQUNBLFFBT04sT0FIRSxZQUFBeEMsS0FBQSxXQUNFRixLQUFLd0MsYUFBYXRDLFFBRXRCLEVBZkEsR0NBQSxhQUVFLGFBQ0VGLEtBQUtELFNBQVcsR0FtQnBCLE9BaEJFLFlBQUE0QyxnQkFBQSxTQUFnQkMsR0FDZDVDLEtBQUtELFNBQVM2QyxFQUFRWCxXQUFhVyxFQUNuQ0EsRUFBUUMsZ0JBQWtCN0MsTUFHNUIsWUFBQThDLEtBQUEsU0FBS0MsRUFBaUJDLEVBQWVDLEdBQXJDLFdBQ01BLEVBQ0ZBLEVBQUdDLFFBQVFILEVBQVNDLEdBRXBCdEIsT0FBT0MsS0FBSzNCLEtBQUtELFVBQVVZLFNBQVEsU0FBQWlCLEdBQzdCLEVBQUs3QixTQUFTNkIsS0FBU29CLEdBQ3pCLEVBQUtqRCxTQUFTNkIsR0FBS3NCLFFBQVFILEVBQVNDLE9BSzlDLEVBdEJBLEdBdUJBLGFBRUUsYUFDRWhELEtBQUttRCxRQUFVLEdBV25CLE9BUkUsWUFBQUMsZUFBQSxTQUFlQyxHQUNickQsS0FBS21ELFFBQVFFLEVBQU9oRCxPQUFTZ0QsRUFDN0JBLEVBQU9DLGVBQWlCdEQsTUFHMUIsWUFBQThDLEtBQUEsU0FBS0MsRUFBaUJDLEVBQWNDLEtBR3RDLEVBZEEsRyxpV0N0QkEsY0FFRSxXQUFZakMsRUFBWWlCLEVBQW1CQyxFQUFrQkMsRUFBZUMsR0FBNUUsTUFDRSxZQUFNcEIsRUFBSWlCLEVBQVdDLEVBQVVDLEVBQU9DLElBQUksSyxPQUMxQyxFQUFLUyxnQkFBa0IsSyxFQWUzQixPQW5Cc0IsT0FNcEIsWUFBQXBCLFlBQUEsV0FDRSxNQUFPLENBQ0xhLEtBQVN0QyxLQUFLaUMsVUFBUyxJQUFJakMsS0FBS2tDLFNBQ2hDQyxNQUFPbkMsS0FBS21DLE1BQ1pDLElBQUssR0FBR3BDLEtBQUtvQyxNQUdqQixZQUFBVSxLQUFBLFNBQUtDLEVBQWlCRSxHLE1BQ0EsUUFBcEIsRUFBQWpELEtBQUs2Qyx1QkFBZSxTQUFFQyxLQUFLQyxFQUFTL0MsS0FBTWlELElBRTVDLFlBQUFDLFFBQUEsU0FBUUgsRUFBaUJDLEdBQ3ZCLE9BQVVELEVBQU8sV0FBV0MsR0FFaEMsRUFuQkEsQ0FBc0JULEdBcUJoQk0sRUFBa0IsSUFBSVUsRUFFdEJDLEVBQWUsV0FBTSxPQUN6QixJQUFJQyxFQUFRLEVBQUcsUUFBUyxXQUFZLGVBQWdCLElBQ3BELElBQUlBLEVBQVEsRUFBRyxNQUFPLFlBQWEsYUFBYyxJQUNqRCxJQUFJQSxFQUFRLEVBQUcsVUFBVyxRQUFTLGlCQUFrQixJQUNyRCxJQUFJQSxFQUFRLEVBQUcsVUFBVyxZQUFhLGlCQUFrQixNQzNCM0QsYUFRRSxXQUNFdEQsRUFDQXVELEVBQ0FsQyxFQUNBbkIsRUFDQUMsR0FFQU4sS0FBS0csY0FBZ0JBLEVBQ3JCSCxLQUFLMEQsS0FBT0EsRUFDWjFELEtBQUt3QixLQUFPQSxFQUNaeEIsS0FBS0ssTUFBUUEsRUFDYkwsS0FBS00sVUFBWUEsRUFDakJOLEtBQUsyRCxTQUFXLElBQUlsQixFQUFTekMsS0FBS0csY0FBZUgsS0FBSzBELEtBQU0xRCxLQUFLSyxNQUFPTCxLQUFLTSxXQUM3RU4sS0FBSzRELGlCQUFtQixHQWlENUIsT0E5Q0UsWUFBQUMsV0FBQSxTQUFXQyxHQUNUQyxRQUFRQyxJQUFJLE9BQVFGLEdBQ3BCOUQsS0FBSzRELGlCQUFtQkUsR0FHMUIsWUFBQTdELE9BQUEsZSxFQUFBLE9BQ1FnRSxFQUFleEQsU0FBU3lELGNBQWMsVUFDNUNELEVBQWFFLFVBQVVDLElBQUksY0FFM0IsSUFBTWhELEVBQU8sOENBRVRwQixLQUFLMkQsU0FBUzdCLGdCQUFlLFdBQzdCOUIsS0FBSzRELGlCQUFnQixxRkFPekJLLEVBQWFwQyxVQUFZVCxFQUNhLFFBQXRDLEVBQUFYLFNBQVN5RCxjQUFjLHVCQUFlLFNBQUVyRCxpQkFBaUIsU0FBUyxXQUNoRW9ELEVBQWFFLFVBQVVFLE9BQU8saUJBR2hDNUQsU0FBU0MsaUJBQWlCLG1CQUFtQkMsU0FBUSxTQUFDQyxHQUNwREEsRUFBR0MsaUJBQWlCLFNBQVMsU0FBQ3lELEdBQzVCLEdBQUksU0FBVSxFQUFLOUMsS0FBTSxDQUN2QixJQUFNb0MsRUFBbUIsdUNBQXVDVSxFQUFNQyxPQUFPQyxVQUFTLFVBQ3RGLEVBQUtoRCxLQUFLc0IsS0FBS2MsRUFBa0IsRUFBS3BDLE1BQ3RDLEVBQUtxQyxXQUFXRCxHQUNoQixFQUFLYSxxQkFhYixZQUFBQSxXQUFBLFdBQ0V6RSxLQUFLQyxVQUVULEVBdEVBLEdDRkEsYUFNRSxXQUFZZSxFQUFZWCxFQUFlcUUsRUFBcUJDLEdBQzFEM0UsS0FBS2dCLEdBQUtBLEVBQ1ZoQixLQUFLSyxNQUFRQSxFQUNiTCxLQUFLMEUsWUFBY0EsRUFDbkIxRSxLQUFLMkUsU0FBV0EsRUFDaEIzRSxLQUFLc0QsZUFBaUIsS0FXMUIsT0FSRSxZQUFBN0IsWUFBQSxXQUNFLE1BQU8sQ0FDTHBCLE1BQU9MLEtBQUtLLE1BQ1pzRSxTQUFVM0UsS0FBSzJFLFdBR25CLFlBQUE3QixLQUFBLGFBQ0EsWUFBQUksUUFBQSxhQUNGLEVBdEJBLEdBMEJNMEIsR0FGaUIsSUFBSUMsRUFFUCxXQUFnQixPQUNsQyxJQUFJQyxFQUFPLEVBQUcsT0FBUSxvQkFBcUIsTUFDM0MsSUFBSUEsRUFBTyxFQUFHLFVBQVcsMEJBQTJCLE1BQ3BELElBQUlBLEVBQU8sRUFBRyxVQUFXLHNEQUF1RCxNQUNoRixJQUFJQSxFQUFPLEVBQUcsVUFBVyx1Q0FBd0MsU0MzQm5FLGFBR0UsV0FBWTNFLEdBQ1ZILEtBQUtHLGNBQWdCQSxFQUNyQkgsS0FBSytFLGFBQWUsSUFBSXRDLEVBQVN6QyxLQUFLRyxjQUFlcUQsSUFBZ0IsV0FBWSxDQUMvRSxPQUNBLFFBQ0EsUUF3Qk4sT0FwQkUsWUFBQXdCLG1CQUFBLFdBQ0VoRixLQUFLK0UsYUFBYXhFLGNBQWEsU0FBQ1MsR0FDOUIsSUFDTVEsRUFEVWdDLElBQWV5QixNQUFLLFNBQUFyQyxHQUFXLE9BQUFBLEVBQVE1QixLQUFPQSxLQUU5RCtDLFFBQVFDLElBQUksT0FBUXhDLEdBQ3BCLElBQU0yQixFQUFVeUIsSUFDVk0sRUFBUXpFLFNBQVN5RCxjQUFjLGVBQ3JDLElBQUksRUFBaUNnQixFQUFPL0IsRUFBUzNCLEVBQU0sVUFBVyxDQUNwRSxRQUNBLGFBQ0N2QixhQUlQLFlBQUFDLEtBQUEsV0FDRUYsS0FBSytFLGFBQWE3RSxPQUNsQkYsS0FBS2dGLHFCSENtQixXQUMxQixJQUFvQixVQUFBeEIsSUFBQSxlQUFnQixDQUEvQixJQUFJWixFQUFPLEtBQ2RDLEVBQWdCRixnQkFBZ0JDLElHRmhDdUMsR0FDQXBCLFFBQVFDLElBQUksa0JBQW1CbkIsSUFFbkMsRUFoQ0EsR0NJRSxJQUFJdUMsRUFDRixJQUFJQyxFQUFrQjVFLFNBQVM2RSxlQUFlLFlBQzlDLElBQUlDLEVBQWtCOUUsU0FBUzZFLGVBQWUsYUFDOUNyRixVIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlYWNoZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vdGVhY2hlclwiXG5pbXBvcnQgeyBDb3Vyc2VDb250cm9sbGVyIH0gZnJvbSBcIi4vY291cnNlXCJcbmltcG9ydCB7IFN0dWRlbnRDb250cm9sbGVyIH0gZnJvbSBcIi4vc3R1ZGVudFwiXG5cbmV4cG9ydCBjbGFzcyBBcHAge1xuICB0ZWFjaGVyOiBUZWFjaGVyQ29udHJvbGxlclxuICAvLyBjb3Vyc2VzOiBDb3Vyc2VDb250cm9sbGVyXG4gIHN0dWRlbnRzOiBTdHVkZW50Q29udHJvbGxlclxuICBjb25zdHJ1Y3Rvcih0ZWFjaGVyOiBUZWFjaGVyQ29udHJvbGxlciwgc3R1ZGVudHM6IFN0dWRlbnRDb250cm9sbGVyKSB7XG4gICAgdGhpcy50ZWFjaGVyID0gdGVhY2hlclxuICAgIC8vIHRoaXMuY291cnNlcyA9IGNvdXJzZXNcbiAgICB0aGlzLnN0dWRlbnRzID0gc3R1ZGVudHNcbiAgfVxuXG4gIHJlbmRlcigpOiB2b2lkIHtcbiAgICB0aGlzLnRlYWNoZXIuaW5pdCgpXG4gICAgLy8gdGhpcy5jb3Vyc2VzLmluaXQoKVxuICAgIHRoaXMuc3R1ZGVudHMuaW5pdCgpXG4gIH1cbn1cbiIsImltcG9ydCB7IENvdXJzZSB9IGZyb20gXCIuLi8uLi9tdmMvbW9kZWxzL2NvdXJzZS1tb2RlbFwiXG5pbXBvcnQgeyBUZWFjaGVyIH0gZnJvbSBcIi4uL21vZGVscy90ZWFjaGVyXCJcblxuZXhwb3J0IGNsYXNzIExpc3RWaWV3PFQ+IHtcbiAgcGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcbiAgZGF0YUxpc3Q6IEFycmF5PFQ+XG4gIHRpdGxlOiBzdHJpbmdcbiAgc3ViVGl0bGVzOiBzdHJpbmdbXVxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICBkYXRhTGlzdDogQXJyYXk8VD4sXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBzdWJUaXRsZXM6IHN0cmluZ1tdXG4gICkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLnRpdGxlID0gdGl0bGVcbiAgICB0aGlzLnN1YlRpdGxlcyA9IHN1YlRpdGxlc1xuICB9XG5cbiAgY2xpY2tIYW5kbGVyKHN1YnNjcmliZXI6IEZ1bmN0aW9uKSB7XG4gICAgY29uc3QgdHJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInRyXCIpXG4gICAgdHJzLmZvckVhY2godHIgPT5cbiAgICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHN1YnNjcmliZXIocGFyc2VJbnQodHIuZGF0YXNldC5pZCEsIDEwKSlcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgU3RyaW5nKHRyLmRhdGFzZXQuaWQpKVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS13cmFwcGVyIHdyYXBwZXItJHt0aGlzLnRpdGxlfVwiPlxuICAgIDx0YWJsZSBjbGFzcz1cIiR7dGhpcy50aXRsZX1cIj5cbiAgICAgICAgPGNhcHRpb24+JHt0aGlzLnRpdGxlfTwvY2FwdGlvbj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICR7dGhpcy5zdWJUaXRsZXMubWFwKHQgPT4gYDx0aD4ke3R9PC90aD5gKS5qb2luKFwiXCIpfVxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgJHsodGhpcy5kYXRhTGlzdCBhcyBBcnJheTxUPilcbiAgICAgICAgICAgIC5tYXAoKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5SW5mbyA9IGRhdGEuZGlzcGxheUluZm8oKSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9XG4gICAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPHRyIGRhdGEtaWQ9XCIke2RhdGEuaWR9XCI+XG4gICAgICAgICAgICAgICAgJHtPYmplY3Qua2V5cyhkaXNwbGF5SW5mbylcbiAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGA8dGQgZGF0YS1pbmZvPVwiJHtkaXNwbGF5SW5mb1trZXldfVwiPiR7ZGlzcGxheUluZm9ba2V5XX08L3RkPmApXG4gICAgICAgICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIGBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gICAgYFxuICAgIHRoaXMucGFyZW50RWxlbWVudC5pbm5lckhUTUwgPSBodG1sXG4gIH1cblxuICByZW5kZXJSYXdIdG1sKCk6IHN0cmluZyB7XG4gICAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtd3JhcHBlciB3cmFwcGVyLSR7dGhpcy50aXRsZX1cIj5cbiAgICA8dGFibGU+XG4gICAgICAgIDxjYXB0aW9uPiR7dGhpcy50aXRsZX08L2NhcHRpb24+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAke3RoaXMuc3ViVGl0bGVzLm1hcCh0ID0+IGA8dGg+JHt0fTwvdGg+YCkuam9pbihcIlwiKX1cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICR7KHRoaXMuZGF0YUxpc3QgYXMgQXJyYXk8YW55PilcbiAgICAgICAgICAgIC5tYXAoKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5SW5mbyA9IGRhdGEuZGlzcGxheUluZm8oKSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9XG4gICAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPHRyIGRhdGEtaWQ9XCIke2RhdGEuaWR9XCI+XG4gICAgICAgICAgICAgICAgJHtPYmplY3Qua2V5cyhkaXNwbGF5SW5mbylcbiAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGA8dGQ+JHtkaXNwbGF5SW5mb1trZXldfTwvdGQ+YClcbiAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cbiAgICBgXG4gICAgcmV0dXJuIGh0bWxcbiAgfVxuXG4gIG1vdW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlclJhd0h0bWwoKVxuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbmRlcigpXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQZXJzb24ge1xuICBpZDogbnVtYmVyXG4gIGZpcnN0TmFtZTogc3RyaW5nXG4gIGxhc3ROYW1lOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBhZ2U6IG51bWJlclxuICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBmaXJzdE5hbWU6IHN0cmluZywgbGFzdE5hbWU6IHN0cmluZywgZW1haWw6IHN0cmluZywgYWdlOiBudW1iZXIpIHtcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLmZpcnN0TmFtZSA9IGZpcnN0TmFtZVxuICAgIHRoaXMubGFzdE5hbWUgPSBsYXN0TmFtZVxuICAgIHRoaXMuZW1haWwgPSBlbWFpbFxuICAgIHRoaXMuYWdlID0gYWdlXG4gIH1cbn1cbiIsImltcG9ydCB7IFBlcnNvbiB9IGZyb20gXCIuL1BlcnNvblwiXG5pbXBvcnQgeyBTdWJqZWN0LCBUZWFjaGVyU3R1ZGVudENvbnN0cnVjdCB9IGZyb20gXCIuLi90eXBlc1wiXG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tIFwibmFub2lkXCJcblxuZXhwb3J0IGNsYXNzIFRlYWNoZXIgZXh0ZW5kcyBQZXJzb24gaW1wbGVtZW50cyBUZWFjaGVyU3R1ZGVudENvbnN0cnVjdCB7XG4gIHN1YmplY3RzOiBTdWJqZWN0W11cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgZmlyc3ROYW1lOiBzdHJpbmcsIGxhc3ROYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIGFnZTogbnVtYmVyKSB7XG4gICAgc3VwZXIoaWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBhZ2UpXG4gICAgdGhpcy5zdWJqZWN0cyA9IFtdXG4gIH1cblxuICBkaXNwbGF5SW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYCR7dGhpcy5maXJzdE5hbWV9LSR7dGhpcy5sYXN0TmFtZX1gLFxuICAgICAgZW1haWw6IHRoaXMuZW1haWwsXG4gICAgICBhZ2U6IGAke3RoaXMuYWdlfWAsXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBsb2FkVGVhY2hlcnMgPSAoKSA9PiBbXG4gIG5ldyBUZWFjaGVyKDEsIFwiRnJhbmtcIiwgXCJTbWl0aFwiLCBcImZyYW5rQGlvLmNvbVwiLCA0MyksXG4gIG5ldyBUZWFjaGVyKDIsIFwiTG9nYW5cIiwgXCJKb25zc29uXCIsIFwibG9nYW5AaW8uY29tXCIsIDQ3KSxcbiAgbmV3IFRlYWNoZXIoMywgXCJNaWFcIiwgXCJHcmVnZXJcIiwgXCJtaWFAaW8uY29tXCIsIDQxKSxcbiAgbmV3IFRlYWNoZXIoNCwgXCJCb3Jpc1wiLCBcIlJvb25leVwiLCBcImZyYW5rQGlvLmNvbVwiLCA1MyksXG5dXG4iLCJpbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuLi92aWV3cy9saXN0LXZpZXdcIlxuaW1wb3J0IHsgbG9hZFRlYWNoZXJzLCBUZWFjaGVyIH0gZnJvbSBcIi4uL21vZGVscy90ZWFjaGVyXCJcblxuZXhwb3J0IGNsYXNzIFRlYWNoZXJDb250cm9sbGVyIHtcbiAgcGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcbiAgdGVhY2hlcnNWaWV3OiBMaXN0VmlldzxUZWFjaGVyPlxuICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcbiAgICB0aGlzLnRlYWNoZXJzVmlldyA9IG5ldyBMaXN0Vmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIGxvYWRUZWFjaGVycygpLCBcIlRlYWNoZXJzXCIsIFtcbiAgICAgIFwibmFtZVwiLFxuICAgICAgXCJlbWFpbFwiLFxuICAgICAgXCJhZ2VcIixcbiAgICBdKVxuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnRlYWNoZXJzVmlldy5pbml0KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ291cnNlIH0gZnJvbSBcIi4vY291cnNlXCJcbmltcG9ydCB7IFN0dWRlbnQgfSBmcm9tIFwiLi9zdHVkZW50XCJcblxuY2xhc3MgU3R1ZGVudE1lZGlhdG9yIHtcbiAgc3R1ZGVudHM6IFJlY29yZDxzdHJpbmcsIFN0dWRlbnQ+XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3R1ZGVudHMgPSB7fVxuICB9XG5cbiAgcmVnaXN0ZXJTdHVkZW50KHN0dWRlbnQ6IFN0dWRlbnQpIHtcbiAgICB0aGlzLnN0dWRlbnRzW3N0dWRlbnQuZmlyc3ROYW1lXSA9IHN0dWRlbnRcbiAgICBzdHVkZW50LnN0dWRlbnRNZWRpYXRvciA9IHRoaXNcbiAgfVxuXG4gIHNlbmQobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBTdHVkZW50LCB0bz86IFN0dWRlbnQpIHtcbiAgICBpZiAodG8pIHtcbiAgICAgIHRvLnJlY2VpdmUobWVzc2FnZSwgZnJvbSlcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXModGhpcy5zdHVkZW50cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdHVkZW50c1trZXldICE9PSBmcm9tKSB7XG4gICAgICAgICAgdGhpcy5zdHVkZW50c1trZXldLnJlY2VpdmUobWVzc2FnZSwgZnJvbSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbmNsYXNzIENvdXJzZU1lZGlhdG9yIHtcbiAgY291cnNlczogUmVjb3JkPHN0cmluZywgQ291cnNlPlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvdXJzZXMgPSB7fVxuICB9XG5cbiAgcmVnaXN0ZXJDb3Vyc2UoY291cnNlOiBDb3Vyc2UpIHtcbiAgICB0aGlzLmNvdXJzZXNbY291cnNlLnRpdGxlXSA9IGNvdXJzZVxuICAgIGNvdXJzZS5jb3Vyc2VNZWRpYXRvciA9IHRoaXNcbiAgfVxuXG4gIHNlbmQobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBDb3Vyc2UsIHRvPzogQ291cnNlKSB7XG4gICAgLy9cbiAgfVxufVxuXG5leHBvcnQgeyBTdHVkZW50TWVkaWF0b3IsIENvdXJzZU1lZGlhdG9yIH1cbiIsImltcG9ydCB7IENvdXJzZSB9IGZyb20gXCIuL2NvdXJzZVwiXG5pbXBvcnQgeyBTdHVkZW50TWVkaWF0b3IgfSBmcm9tIFwiLi9tZWRpYXRvclwiXG5pbXBvcnQgeyBQZXJzb24gfSBmcm9tIFwiLi9QZXJzb25cIlxuXG5jbGFzcyBTdHVkZW50IGV4dGVuZHMgUGVyc29uIHtcbiAgc3R1ZGVudE1lZGlhdG9yOiBudWxsIHwgU3R1ZGVudE1lZGlhdG9yXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIGZpcnN0TmFtZTogc3RyaW5nLCBsYXN0TmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBhZ2U6IG51bWJlcikge1xuICAgIHN1cGVyKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgYWdlKVxuICAgIHRoaXMuc3R1ZGVudE1lZGlhdG9yID0gbnVsbFxuICB9XG4gIGRpc3BsYXlJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBgJHt0aGlzLmZpcnN0TmFtZX0tJHt0aGlzLmxhc3ROYW1lfWAsXG4gICAgICBlbWFpbDogdGhpcy5lbWFpbCxcbiAgICAgIGFnZTogYCR7dGhpcy5hZ2V9YCxcbiAgICB9XG4gIH1cbiAgc2VuZChtZXNzYWdlOiBzdHJpbmcsIHRvPzogU3R1ZGVudCkge1xuICAgIHRoaXMuc3R1ZGVudE1lZGlhdG9yPy5zZW5kKG1lc3NhZ2UsIHRoaXMsIHRvKVxuICB9XG4gIHJlY2VpdmUobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBTdHVkZW50KTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7bWVzc2FnZX0gLSBmcm9tICR7ZnJvbX1gXG4gIH1cbn1cblxuY29uc3Qgc3R1ZGVudE1lZGlhdG9yID0gbmV3IFN0dWRlbnRNZWRpYXRvcigpXG5cbmNvbnN0IGxvYWRTdHVkZW50cyA9ICgpID0+IFtcbiAgbmV3IFN0dWRlbnQoMSwgXCJGcmFua1wiLCBcIk1lbGxiZXJnXCIsIFwiZnJhbmtAaW8uY29tXCIsIDIxKSxcbiAgbmV3IFN0dWRlbnQoMiwgXCJSaW9cIiwgXCJGZXJkaW5hbmRcIiwgXCJyaW9AaW8uY29tXCIsIDI1KSxcbiAgbmV3IFN0dWRlbnQoMywgXCJOZW1hbmphXCIsIFwiVmlkaWNcIiwgXCJuZW1hbmphQGlvLmNvbVwiLCAzMiksXG4gIG5ldyBTdHVkZW50KDQsIFwiRnJlZHJpa1wiLCBcImxqdW5nYmVyZ1wiLCBcImZyZWRyaWtAaW8uY29tXCIsIDMyKSxcbl1cblxuY29uc3QgcmVnaXN0ZXJBbGxTdHVkZW50cyA9ICgpOiB2b2lkID0+IHtcbiAgZm9yIChsZXQgc3R1ZGVudCBvZiBsb2FkU3R1ZGVudHMoKSkge1xuICAgIHN0dWRlbnRNZWRpYXRvci5yZWdpc3RlclN0dWRlbnQoc3R1ZGVudClcbiAgfVxufVxuXG5leHBvcnQgeyBTdHVkZW50LCBsb2FkU3R1ZGVudHMsIHN0dWRlbnRNZWRpYXRvciwgcmVnaXN0ZXJBbGxTdHVkZW50cyB9XG4iLCJpbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4uL21vZGVscy9zdHVkZW50XCJcbmltcG9ydCB7IFRlYWNoZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3RlYWNoZXJcIlxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi9saXN0LXZpZXdcIlxuXG5leHBvcnQgY2xhc3MgTW9kYWxWaWV3PFQsIFM+IHtcbiAgcGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcbiAgbGlzdDogQXJyYXk8YW55PlxuICBkYXRhOiBTdHVkZW50IHwgVGVhY2hlclxuICB0aXRsZTogc3RyaW5nXG4gIGxpc3RWaWV3OiBMaXN0VmlldzxUPlxuICBzdWJUaXRsZXM6IHN0cmluZ1tdXG4gIGNvbmZpcm1hdGlvblRleHQ6IHN0cmluZ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICBsaXN0OiBhbnksXG4gICAgZGF0YTogU3R1ZGVudCB8IFRlYWNoZXIsXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBzdWJUaXRsZXM6IHN0cmluZ1tdXG4gICkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcbiAgICB0aGlzLmxpc3QgPSBsaXN0XG4gICAgdGhpcy5kYXRhID0gZGF0YVxuICAgIHRoaXMudGl0bGUgPSB0aXRsZVxuICAgIHRoaXMuc3ViVGl0bGVzID0gc3ViVGl0bGVzXG4gICAgdGhpcy5saXN0VmlldyA9IG5ldyBMaXN0Vmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMubGlzdCwgdGhpcy50aXRsZSwgdGhpcy5zdWJUaXRsZXMpXG4gICAgdGhpcy5jb25maXJtYXRpb25UZXh0ID0gXCJcIlxuICB9XG5cbiAgdXBkYXRlVGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRFWFRcIiwgdGV4dClcbiAgICB0aGlzLmNvbmZpcm1hdGlvblRleHQgPSB0ZXh0XG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKSBhcyBIVE1MRExpc3RFbGVtZW50XG4gICAgbW9kYWxXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJzaG93LW1vZGFsXCIpXG5cbiAgICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cbiAgICAgICR7dGhpcy5saXN0Vmlldy5yZW5kZXJSYXdIdG1sKCl9XG4gICAgICAke3RoaXMuY29uZmlybWF0aW9uVGV4dH1cbiAgICAgIDxidXR0b24gY2xhc3M9XCJjbG9zZS1tb2RhbFwiPlxuICAgICAgICDinYxcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIGBcblxuICAgIG1vZGFsV3JhcHBlci5pbm5lckhUTUwgPSBodG1sXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZS1tb2RhbFwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIG1vZGFsV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1tb2RhbFwiKVxuICAgIH0pXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsIHRib2R5IHRyXCIpLmZvckVhY2goKHRyOiBhbnkpID0+IHtcbiAgICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoXCJzZW5kXCIgaW4gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uVGV4dCA9IGBZb3UgaGF2ZSBub3cgYmVlbiByZWdpc3RlcmVkIHRvIHRoZSAke2V2ZW50LnRhcmdldC5pbm5lclRleHR9IENvdXJzZWBcbiAgICAgICAgICB0aGlzLmRhdGEuc2VuZChjb25maXJtYXRpb25UZXh0LCB0aGlzLmRhdGEpXG4gICAgICAgICAgdGhpcy51cGRhdGVUZXh0KGNvbmZpcm1hdGlvblRleHQpXG4gICAgICAgICAgdGhpcy51cGRhdGVIdG1sKClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmICh0ci5kYXRhc2V0LmlkID09PSBTdHJpbmcodGhpcy5kYXRhLmlkKSkge1xuICAgICAgICAvLyAgIGlmIChcInNlbmRcIiBpbiB0aGlzLmRhdGEpIHtcbiAgICAgICAgLy8gICAgIGNvbnN0IGNvbmZpcm1hdGlvblRleHQgPSBgWW91IGhhdmUgbm93IGJlZW4gcmVnaXN0ZXJlZCB0byAke2V2ZW50LnRhcmdldC5pbm5lclRleHR9YFxuICAgICAgICAvLyAgICAgdGhpcy5kYXRhLnNlbmQoY29uZmlybWF0aW9uVGV4dCwgdGhpcy5kYXRhKVxuICAgICAgICAvLyAgICAgdGhpcy51cGRhdGVUZXh0KGNvbmZpcm1hdGlvblRleHQpXG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgdXBkYXRlSHRtbCgpIHtcbiAgICB0aGlzLnJlbmRlcigpXG4gIH1cbn1cbiIsImltcG9ydCB7IENvdXJzZU1lZGlhdG9yIH0gZnJvbSBcIi4vbWVkaWF0b3JcIlxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tIFwiLi4vdHlwZXNcIlxuY2xhc3MgQ291cnNlIHtcbiAgaWQ6IG51bWJlclxuICB0aXRsZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgZHVyYXRpb246IHN0cmluZ1xuICBjb3Vyc2VNZWRpYXRvcjogbnVsbCB8IENvdXJzZU1lZGlhdG9yXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGR1cmF0aW9uOiBzdHJpbmcpIHtcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLnRpdGxlID0gdGl0bGVcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cbiAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb25cbiAgICB0aGlzLmNvdXJzZU1lZGlhdG9yID0gbnVsbFxuICB9XG5cbiAgZGlzcGxheUluZm8oKTogRGlzcGxheUluZm8ge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLFxuICAgIH1cbiAgfVxuICBzZW5kKCkge31cbiAgcmVjZWl2ZSgpIHt9XG59XG5cbmNvbnN0IGNvdXJzZU1lZGlhdG9yID0gbmV3IENvdXJzZU1lZGlhdG9yKClcblxuY29uc3QgbG9hZENvdXJzZXMgPSAoKTogQ291cnNlW10gPT4gW1xuICBuZXcgQ291cnNlKDEsIFwibWF0aFwiLCBcIm1hdGggaXMgd29uZGVyZnVsXCIsIFwiNmhcIiksXG4gIG5ldyBDb3Vyc2UoMiwgXCJoaXN0b3J5XCIsIFwiaGlzdG9yeSBpcyBnb29kIGZvciB5b3VcIiwgXCIzaFwiKSxcbiAgbmV3IENvdXJzZSgzLCBcInN3ZWRpc2hcIiwgXCJ3aXRob3V0IHN3ZWRpc2ggeW91IHdpbGwgZmFjZSBzb21lIHNlcmlvdXMgcHJvYmxlbXNcIiwgXCIyaFwiKSxcbiAgbmV3IENvdXJzZSg0LCBcImVuZ2xpc2hcIiwgXCJ0aGUgZ2xvYmFsIGxhbmd1YWdlLCBsZWFybiBpdCBOT1chISFcIiwgXCI1aFwiKSxcbl1cblxuY29uc3QgcmVnaXN0ZXJDb3Vyc2VzID0gKCkgPT4ge1xuICBmb3IgKGxldCBjb3Vyc2Ugb2YgbG9hZENvdXJzZXMoKSkge1xuICAgIGNvdXJzZU1lZGlhdG9yLnJlZ2lzdGVyQ291cnNlKGNvdXJzZSlcbiAgfVxufVxuXG5leHBvcnQgeyBDb3Vyc2UsIGxvYWRDb3Vyc2VzLCByZWdpc3RlckNvdXJzZXMgfVxuIiwiaW1wb3J0IHsgbG9hZFN0dWRlbnRzLCBTdHVkZW50LCByZWdpc3RlckFsbFN0dWRlbnRzLCBzdHVkZW50TWVkaWF0b3IgfSBmcm9tIFwiLi4vbW9kZWxzL3N0dWRlbnRcIlxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vdmlld3MvbGlzdC12aWV3XCJcbmltcG9ydCB7IE1vZGFsVmlldyBhcyBDb3Vyc2VzTW9kYWxWaWV3IH0gZnJvbSBcIi4uL3ZpZXdzL21vZGFsLXZpZXdcIlxuaW1wb3J0IHsgbG9hZENvdXJzZXMgfSBmcm9tIFwiLi4vbW9kZWxzL2NvdXJzZVwiXG5cbmV4cG9ydCBjbGFzcyBTdHVkZW50Q29udHJvbGxlciB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIHN0dWRlbnRzVmlldzogTGlzdFZpZXc8U3R1ZGVudD5cbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50XG4gICAgdGhpcy5zdHVkZW50c1ZpZXcgPSBuZXcgTGlzdFZpZXcodGhpcy5wYXJlbnRFbGVtZW50LCBsb2FkU3R1ZGVudHMoKSwgXCJTdHVkZW50c1wiLCBbXG4gICAgICBcIm5hbWVcIixcbiAgICAgIFwiZW1haWxcIixcbiAgICAgIFwiYWdlXCIsXG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZUNsaWNrU3R1ZGVudCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0dWRlbnRzVmlldy5jbGlja0hhbmRsZXIoKGlkOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IHN0dWRlbnQgPSBsb2FkU3R1ZGVudHMoKS5maW5kKHN0dWRlbnQgPT4gc3R1ZGVudC5pZCA9PT0gaWQpXG4gICAgICBjb25zdCBkYXRhID0gc3R1ZGVudCEgYXMgU3R1ZGVudFxuICAgICAgY29uc29sZS5sb2coXCJkYXRhXCIsIGRhdGEpXG4gICAgICBjb25zdCBjb3Vyc2VzID0gbG9hZENvdXJzZXMoKVxuICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWxpc3RcIikgYXMgSFRNTERpdkVsZW1lbnRcbiAgICAgIG5ldyBDb3Vyc2VzTW9kYWxWaWV3PGFueVtdLCBTdHVkZW50Pihtb2RhbCwgY291cnNlcywgZGF0YSwgXCJjb3Vyc2VzXCIsIFtcbiAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBcImR1cmF0aW9uXCIsXG4gICAgICBdKS5yZW5kZXIoKVxuICAgIH0pXG4gIH1cblxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc3R1ZGVudHNWaWV3LmluaXQoKVxuICAgIHRoaXMuaGFuZGxlQ2xpY2tTdHVkZW50KClcbiAgICByZWdpc3RlckFsbFN0dWRlbnRzKClcbiAgICBjb25zb2xlLmxvZyhcInN0dWRlbnRNZWRpYXRvclwiLCBzdHVkZW50TWVkaWF0b3IpIC8vIWZvciB0ZXN0aW5nIVxuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvYXBwXCJcbmltcG9ydCB7IFRlYWNoZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL3RlYWNoZXJcIlxuaW1wb3J0IHsgU3R1ZGVudENvbnRyb2xsZXIgfSBmcm9tIFwiLi9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvc3R1ZGVudFwiXG47KCgpID0+IHtcbiAgY29uc3QgY3JlYXRlRWxlbWVudCA9ICh0YWc6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpXG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuICBuZXcgQXBwKFxuICAgIG5ldyBUZWFjaGVyQ29udHJvbGxlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlYWNoZXJcIikgYXMgSFRNTERpdkVsZW1lbnQpLFxuICAgIG5ldyBTdHVkZW50Q29udHJvbGxlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0dWRlbnRcIikgYXMgSFRNTERpdkVsZW1lbnQpXG4gICkucmVuZGVyKClcbn0pKClcbiJdLCJzb3VyY2VSb290IjoiIn0=
>>>>>>> dev
